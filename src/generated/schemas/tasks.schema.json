{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Tasks Schemas",
  "description": "Auto-generated JSON schemas for tasks models",
  "category": "tasks",
  "models": {
    "TaskResult": {
      "$defs": {
        "TaskStatus": {
          "description": "Task execution status enumeration.",
          "enum": [
            "queued",
            "started",
            "finished",
            "failed",
            "deferred",
            "cancelled"
          ],
          "title": "TaskStatus",
          "type": "string"
        }
      },
      "description": "Task execution result container.",
      "properties": {
        "task_id": {
          "title": "Task Id",
          "type": "string"
        },
        "status": {
          "$ref": "#/$defs/TaskStatus"
        },
        "result": {
          "anyOf": [
            {},
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Result"
        },
        "error": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Error"
        },
        "created_at": {
          "format": "date-time",
          "title": "Created At",
          "type": "string"
        },
        "started_at": {
          "anyOf": [
            {
              "format": "date-time",
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Started At"
        },
        "finished_at": {
          "anyOf": [
            {
              "format": "date-time",
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Finished At"
        },
        "progress": {
          "anyOf": [
            {
              "additionalProperties": true,
              "type": "object"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Progress"
        }
      },
      "required": [
        "task_id",
        "status",
        "created_at"
      ],
      "title": "TaskResult",
      "type": "object",
      "x-model-name": "TaskResult"
    },
    "TaskSubmission": {
      "description": "Task submission request.",
      "properties": {
        "task_name": {
          "title": "Task Name",
          "type": "string"
        },
        "parameters": {
          "additionalProperties": true,
          "default": {},
          "title": "Parameters",
          "type": "object"
        },
        "queue": {
          "default": "computor-tasks",
          "title": "Queue",
          "type": "string"
        },
        "workflow_id": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Workflow Id"
        },
        "delay": {
          "anyOf": [
            {
              "type": "integer"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Delay"
        }
      },
      "required": [
        "task_name"
      ],
      "title": "TaskSubmission",
      "type": "object",
      "x-model-name": "TaskSubmission"
    },
    "TaskInfo": {
      "$defs": {
        "TaskStatus": {
          "description": "Task execution status enumeration.",
          "enum": [
            "queued",
            "started",
            "finished",
            "failed",
            "deferred",
            "cancelled"
          ],
          "title": "TaskStatus",
          "type": "string"
        }
      },
      "description": "Task information for status queries.",
      "properties": {
        "task_id": {
          "title": "Task Id",
          "type": "string"
        },
        "task_name": {
          "title": "Task Name",
          "type": "string"
        },
        "status": {
          "$ref": "#/$defs/TaskStatus"
        },
        "created_at": {
          "format": "date-time",
          "title": "Created At",
          "type": "string"
        },
        "started_at": {
          "anyOf": [
            {
              "format": "date-time",
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Started At"
        },
        "finished_at": {
          "anyOf": [
            {
              "format": "date-time",
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Finished At"
        },
        "progress": {
          "anyOf": [
            {
              "additionalProperties": true,
              "type": "object"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Progress"
        },
        "error": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Error"
        },
        "worker": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Worker"
        },
        "queue": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Queue"
        },
        "retries": {
          "anyOf": [
            {
              "type": "integer"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Retries"
        },
        "args": {
          "anyOf": [
            {},
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Args"
        },
        "kwargs": {
          "anyOf": [
            {
              "additionalProperties": true,
              "type": "object"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Kwargs"
        },
        "short_task_id": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Short Task Id"
        },
        "status_display": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Status Display"
        },
        "completed_at": {
          "anyOf": [
            {
              "format": "date-time",
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Completed At"
        },
        "has_result": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Has Result"
        },
        "result_available": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Result Available"
        },
        "duration": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Duration"
        },
        "workflow_id": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Workflow Id"
        },
        "run_id": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Run Id"
        },
        "execution_time": {
          "anyOf": [
            {
              "format": "date-time",
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Execution Time"
        },
        "history_length": {
          "anyOf": [
            {
              "type": "integer"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "History Length"
        }
      },
      "required": [
        "task_id",
        "task_name",
        "status",
        "created_at"
      ],
      "title": "TaskInfo",
      "type": "object",
      "x-model-name": "TaskInfo"
    },
    "TestJob": {
      "$defs": {
        "Repository": {
          "properties": {
            "url": {
              "title": "Url",
              "type": "string"
            },
            "user": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": "",
              "title": "User"
            },
            "token": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": "",
              "title": "Token"
            },
            "branch": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": "main",
              "title": "Branch"
            },
            "path": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": "",
              "title": "Path"
            },
            "commit": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "default": "",
              "title": "Commit"
            }
          },
          "required": [
            "url"
          ],
          "title": "Repository",
          "type": "object"
        }
      },
      "properties": {
        "user_id": {
          "title": "User Id",
          "type": "string"
        },
        "course_member_id": {
          "title": "Course Member Id",
          "type": "string"
        },
        "course_content_id": {
          "title": "Course Content Id",
          "type": "string"
        },
        "execution_backend_id": {
          "title": "Execution Backend Id",
          "type": "string"
        },
        "execution_backend_type": {
          "title": "Execution Backend Type",
          "type": "string"
        },
        "module": {
          "$ref": "#/$defs/Repository"
        },
        "reference": {
          "anyOf": [
            {
              "$ref": "#/$defs/Repository"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "test_number": {
          "default": -1,
          "title": "Test Number",
          "type": "integer"
        },
        "submission_number": {
          "default": -1,
          "title": "Submission Number",
          "type": "integer"
        }
      },
      "required": [
        "user_id",
        "course_member_id",
        "course_content_id",
        "execution_backend_id",
        "execution_backend_type",
        "module"
      ],
      "title": "TestJob",
      "type": "object",
      "x-model-name": "TestJob"
    },
    "TaskResponse": {
      "description": "Response with task ID for async operation.",
      "properties": {
        "task_id": {
          "title": "Task Id",
          "type": "string"
        },
        "status": {
          "title": "Status",
          "type": "string"
        },
        "message": {
          "title": "Message",
          "type": "string"
        }
      },
      "required": [
        "task_id",
        "status",
        "message"
      ],
      "title": "TaskResponse",
      "type": "object",
      "x-model-name": "TaskResponse"
    }
  },
  "enums": {
    "TaskStatus": {
      "type": "string",
      "enum": [
        "queued",
        "started",
        "finished",
        "failed",
        "deferred",
        "cancelled"
      ],
      "x-enum-name": "TaskStatus",
      "x-is-enum": true
    }
  }
}