# Error Catalogs

This directory contains auto-generated error catalogs in different formats.

**Generated by:** `generate_error_codes.py`
**Source:** `error_registry.yaml`

## Files

### error-catalog.vscode.json

**Purpose:** VSCode extension distribution (.vsix files)

**Size:** ~17KB

**Use when:**
- Bundling in VSCode extensions
- Distributing to end users
- Need lightweight error information

**Contains:**
- Error codes and titles
- User-facing messages (plain, markdown, HTML)
- HTTP status codes
- Category and severity
- Retry information

**Example:**
```json
{
  "code": "AUTH_001",
  "http_status": 401,
  "category": "authentication",
  "severity": "warning",
  "title": "Authentication Required",
  "message": {
    "plain": "You must be authenticated to access this resource.",
    "markdown": "...",
    "html": "..."
  },
  "retry_after": null
}
```

---

### error-catalog.json

**Purpose:** Internal development and tooling

**Size:** ~32KB

**Use when:**
- Building internal developer tools
- Need full debugging information
- Generating documentation
- IDE plugins with detailed error info

**Contains:**
- Everything in VSCode catalog, plus:
- Internal descriptions
- Affected functions
- Common causes
- Resolution steps
- Documentation URLs

**Example:**
```json
{
  "code": "AUTH_001",
  "http_status": 401,
  "category": "authentication",
  "severity": "warning",
  "title": "Authentication Required",
  "message": { ... },
  "retry_after": null,
  "documentation_url": "/docs/authentication",
  "internal_description": "User attempted to access protected endpoint...",
  "affected_functions": ["get_current_principal", "verify_token"],
  "common_causes": ["Missing auth token", "Expired session", ...],
  "resolution_steps": ["Ensure logged in", "Check auth header", ...]
}
```

---

### ERROR_CODES.md

**Purpose:** Human-readable documentation

Auto-generated Markdown reference for all error codes, organized by category.

---

## Choosing the Right Catalog

| Use Case | File to Use |
|----------|-------------|
| VSCode extension (.vsix) | `error-catalog.vscode.json` |
| Frontend error display | `error-catalog.vscode.json` |
| Internal developer tools | `error-catalog.json` |
| Documentation generation | `error-catalog.json` |
| IDE hover information | `error-catalog.json` |
| Error logging/monitoring | Either (depends on needs) |

## Regenerating

```bash
# Regenerate all error catalogs
bash generate_error_codes.sh

# Or via types generator
bash generate_types.sh
```

## TypeScript Integration

For TypeScript projects, use the generated definitions instead:

```typescript
import { ErrorCodes, ErrorResponse } from '@/generated/types/error-codes';
```

The TypeScript file includes:
- Type-safe error code constants
- Interfaces for error responses
- Utility functions for error handling
- Category and severity enums

---

**Note:** These files are auto-generated. Do not edit manually.
**Last generated:** Check file timestamps or `generated_at` field in JSON.
